<div class="container">
  <div class="p-3">

    <div class="card mt-5 request" [ngStyle]="{'background' : currentTheme ? 'black' : 'white'}">
      <div class="card-body">

        <form [formGroup]="queryformGroup" (ngSubmit)="handleAskGPT()">
          <div class="mb-3">

            <textarea formControlName="query" class="form-control"></textarea>
            <button class="btn"
              [ngStyle]="{'text' : !currentTheme ? 'black' : 'white','background-color' : !currentTheme ? 'grey' : 'white',
              'color' : currentTheme ? 'grey' : 'white','border' : '5px'}">Post</button>
          </div>

        </form>

      </div>
    </div>
    <div class="card mb-5 response" [ngStyle]="{'background' : currentTheme ? 'black' : 'white'}">
      <div class="card-body">

        <div class="alert alert-success m-3" *ngIf="result !== null && result !== undefined; else elseBlock">
          <ul class="list-group">
            <li class="list-group-item" *ngFor="let choice of result.choices">
              {{choice.message.content}}
            </li>
          </ul>
        </div>

        <ng-template #elseBlock>
          <div class="alert alert-danger m-3" *ngIf="error !== null && error !== undefined; else noAlertBlock">
            <!-- <pre>
              {{ error }}
            </pre> -->

            <ul class="list-group">
              <li class="list-group-item">
                {{ error }}
              </li>
            </ul>
          </div>

          <ng-template #noAlertBlock>
            <!-- This block will be shown when neither success nor error is present -->
          </ng-template>
        </ng-template>

      </div>
    </div>
  </div>
</div>